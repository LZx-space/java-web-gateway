spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: http://localhost:9000/oauth2/jwks
          issuer-uri: http://auth-server:9000
  cloud:
    gateway:
      security:
        api-authority:
          # 允许所有人访问的请求
          permit-all:
            GET:
              - /get/**
              - /actuator/**
            POST:
              - /actuator/**
          # 需要登录才能访问的请求
          authenticated:
            GET:
              - /test2/*
      routes:
        - id: uc-route
          uri: http://localhost:9000
          predicates:
            - Path=/uc/**
          filters:
            - RewritePath=/uc/?(?<segment>.*), /$\{segment}
        - id: test-route
          uri: http://localhost:9000
          predicates:
            - Path=/test/**

#logging:
#  level:
#    web: DEBUG

management:
  endpoint:
    gateway:
      enabled: true # default value
  endpoints:
    web:
      exposure:
        include: "*"
